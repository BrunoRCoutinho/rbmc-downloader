  <!DOCTYPE html>
  <html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

  <head>
    <meta charset="UTF-8">
    <title>RBMC Downloader</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>

        :root {
          --blue: #1f87c9;
          --blue-dark: #0b2a43;
          --gray-bg: #f4f7fa;
        }

        * {
          box-sizing: border-box;
        }
        html, body {
        height: 100%;
        overflow: hidden;
        }

        body {
          margin: 0;
          font-family: 'Inter', sans-serif;
          background: var(--gray-bg);
        }

        /* ================= HEADER ================= */

        .header {
          background: rgba (11, 42, 67, 0.82);
          padding: 8px 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          box-shadow: 0 3px 12px rgba(0,0,0,0.06);
          backdrop-filter: blur (1.5px)
        }

        .header img {
          height: 100px;
        }
        .header a img {
    transition: 0.2s ease;
  }

  .header a:hover img {
    transform: scale(1.03);
    opacity: 0.9;
  }

        /* ================= HERO ================= */

      .hero {
      min-height: 210px;
      background-image: url("/img/background.png");
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;

      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;

      padding: 40px 20px;
      position: relative;
    }

      .hero::after {
        content: "";
        position: absolute;
        bottom: -40px;
        left: 0;
        width: 100%;
        height: 80px;
        background: var(--gray-bg);
        border-top-left-radius: 50% 40px;
        border-top-right-radius: 50% 40px;
      }
        .hero-content {
          position: relative;
          z-index: 2;

          max-width: 1100px;
          margin: auto;
          text-align: center;
        }

        .hero-content h1 {
          font-size: 3rem;
          margin-bottom: 10px;
          color: var(--blue-dark);
        }

        .hero-content p {
          font-size: 1.2rem;
          color: #555;
        }

        /* ================= CARD ================= */

      .container {
        max-width: 900px;
        margin: 48px auto 60px;
        padding: 0 16px;
        position: relative;
        z-index: 2;
      }

        .box {
          background: white;
          padding: 28px 32px;
          border-radius: 16px;
          box-shadow: 0 12px 35px rgba(0,0,0,0.10);
        }

        /* ================= FORM ================= */

        .controls {
          display: grid;
          grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
          gap: 20px;
          margin-top: 20px;
        }

        label {
          font-weight: 600;
          font-size: 0.9rem;
        }

        input, select {
          width: 100%;
          padding: 12px;
          border-radius: 8px;
          border: 1px solid #ddd;
          font-size: 0.95rem;
        }

        input:focus, select:focus {
          outline: none;
          border-color: var(--blue);
        }

        button {
          padding: 13px 22px;
          border-radius: 8px;
          border: none;
          cursor: pointer;
          font-weight: 600;
          font-size: 0.95rem;
          transition: 0.2s;
        }

        .buscar-btn {
          background: var(--blue);
          color: white;
        }

        .buscar-btn:hover {
          background: #166fa7;
        }

        .download-btn {
          background: #059669;
          color: white;
        }

        .download-btn:hover {
          background: #047857;
        }

        /* ================= LISTA ================= */

        ul {
          margin-top: 15px;
        }

        li {
          padding: 6px 0;
          border-bottom: 1px solid #eee;
        }

        /* ================= FOOTER ================= */

        footer {
          text-align: center;
          color: #777;
          padding: 25px;
          font-size: 0.9rem;
        }

    </style>

  </head>

  <body>

  <!-- ===== HEADER ===== -->

  <div class="header">
    <a th:href="@{/}">
      <img src="/img/logo.jpg" alt="RBMC Downloader">
    </a>
  </div>

  <!-- ===== HERO ===== -->

  <section class="hero">


    <div class="hero-content">
      <h1>Download Automatizado de Dados Geod√©sicos</h1>
      <p>Todos os arquivos dispon√≠veis s√£o p√∫blicos</p>
    </div>
  </section>

  <!-- ===== CARD PRINCIPAL ===== -->

  <div class="container">

    <div class="box">

      <p><b>Status:</b> <span th:text="${status}"></span></p>

      <hr>

      <h2>Buscar arquivos RBMC</h2>

      <form method="get" action="/buscar">

        <div class="controls">

          <div>
            <label>Ano</label>
            <select name="ano">
              <option value="2020" th:selected="${ano == 2020}">2020</option>
              <option value="2021" th:selected="${ano == 2021}">2021</option>
              <option value="2022" th:selected="${ano == 2022}">2022</option>
              <option value="2023" th:selected="${ano == 2023}">2023</option>
              <option value="2024" th:selected="${ano == 2024}">2024</option>
              <option value="2025" th:selected="${ano == 2025}">2025</option>
              <option value="2026" th:selected="${ano == 2026}">2026</option>
            </select>
          </div>

          <div>
            <label>Dia do ano (DOY)</label>
            <input type="number" name="dia" min="1" max="366"
                   th:value="${dia}" required>
          </div>

          <div>
            <label>C√≥digo RBMC</label>
            <input type="text" name="estacao"
                   placeholder="Ex: SPAR"
                   th:value="${estacao}"
                   required>
          </div>

          <div>
            <label>&nbsp;</label>
            <button class="buscar-btn" type="submit">
              üîç Buscar
            </button>
          </div>

        </div>

      </form>

      <!-- DOWNLOAD -->

      <div th:if="${arquivos != null and !arquivos.isEmpty()}" style="margin-top:25px;">

        <form method="get" action="/download">

          <input type="hidden" name="ano" th:value="${ano}">
          <input type="hidden" name="dia" th:value="${dia}">
          <input type="hidden" name="estacao" th:value="${estacao}">

          <button class="download-btn" type="submit">
            ‚¨á Download 24h (ZIP)
          </button>

        </form>

      </div>

      <hr>

      <!-- RESULTADOS -->

      <div th:if="${arquivos != null}">

        <h3>
          Arquivos encontrados:
          <span th:text="${#lists.size(arquivos)}"></span>
        </h3>

     <!--   <ul>
          <li th:each="arq : ${arquivos}"
              th:text="${arq}">
          </li>
        </ul> -->

        <p th:if="${arquivos.isEmpty()}">
          Nenhum arquivo encontrado.
        </p>

      </div>

    </div>
  </div>

  <footer>
    RBMC Downloader ¬© 2026 ‚Äî Projeto independente
  </footer>

  </body>
  </html>
